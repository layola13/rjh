/**
 * TypeScript helper functions for advanced language features.
 * These utilities support decorators, async/await, generators, class inheritance, and more.
 * @module tslib
 */

/**
 * Assigns properties from one or more source objects to a target object.
 * @param target - The target object to assign properties to
 * @param sources - One or more source objects
 * @returns The target object with assigned properties
 */
export function __assign<T extends object, U extends object[]>(
  target: T,
  ...sources: U
): T & U[number];

/**
 * Creates an async iterator delegate that wraps another async iterator.
 * @param iterable - The async iterable to delegate to
 * @returns An async iterator with next, throw, and return methods
 */
export function __asyncDelegator<T>(
  iterable: AsyncIterator<T>
): AsyncIterator<T>;

/**
 * Converts a generator function into an async generator.
 * @param thisArg - The `this` context for the generator
 * @param args - Arguments to pass to the generator function
 * @param generator - The generator function to convert
 * @returns An async iterator
 */
export function __asyncGenerator<T, TReturn = unknown, TNext = unknown>(
  thisArg: unknown,
  args: unknown[],
  generator: (...args: unknown[]) => Generator<T, TReturn, TNext>
): AsyncIterator<T, TReturn, TNext>;

/**
 * Creates an async iterator from a sync or async iterable.
 * @param iterable - The iterable object to convert
 * @returns An async iterator
 */
export function __asyncValues<T>(
  iterable: Iterable<T> | AsyncIterable<T>
): AsyncIterableIterator<T>;

/**
 * Wraps a value for use in async generators.
 * @param value - The value to wrap
 * @returns A wrapped awaitable value
 */
export function __await<T>(value: T): T;

/**
 * Wraps async functions to return promises and handle generator-style control flow.
 * @param thisArg - The `this` context for the function
 * @param args - Arguments to pass to the async function
 * @param PromiseConstructor - The Promise constructor to use (defaults to native Promise)
 * @param generator - The generator function representing the async logic
 * @returns A promise that resolves with the async function result
 */
export function __awaiter<T = unknown>(
  thisArg: unknown,
  args: unknown[] | undefined,
  PromiseConstructor: PromiseConstructorLike | undefined,
  generator: (...args: unknown[]) => Generator<unknown, T, unknown>
): Promise<T>;

/**
 * Gets the value of a private class field.
 * @param receiver - The object instance
 * @param state - The WeakMap or object holding private state
 * @param kind - The kind of accessor: "f" (field), "a" (accessor), "m" (method)
 * @param getter - The getter function for accessors
 * @returns The private field value
 * @throws TypeError if the private member doesn't exist on the object
 */
export function __classPrivateFieldGet<T, V>(
  receiver: T,
  state: { has(o: T): boolean; get(o: T): V },
  kind: "f" | "a" | "m",
  getter?: (this: T) => V
): V;

/**
 * Checks if a private field exists on an object.
 * @param state - The private field identifier or WeakMap
 * @param receiver - The object to check
 * @returns True if the private field exists
 * @throws TypeError if receiver is not an object
 */
export function __classPrivateFieldIn<T extends object>(
  state: ((o: T) => boolean) | { has(o: T): boolean },
  receiver: T
): boolean;

/**
 * Sets the value of a private class field.
 * @param receiver - The object instance
 * @param state - The WeakMap or object holding private state
 * @param value - The value to set
 * @param kind - The kind of accessor: "f" (field), "a" (accessor), "m" (method)
 * @param setter - The setter function for accessors
 * @returns The value that was set
 * @throws TypeError if the private member doesn't exist or is read-only
 */
export function __classPrivateFieldSet<T, V>(
  receiver: T,
  state: { has(o: T): boolean; set(o: T, value: V): void },
  value: V,
  kind: "f" | "a" | "m",
  setter?: (this: T, value: V) => void
): V;

/**
 * Creates a binding for re-exporting a module member.
 * @param target - The target object to bind to
 * @param source - The source object to bind from
 * @param key - The property key in the source
 * @param key2 - The property key in the target (defaults to key)
 */
export function __createBinding(
  target: object,
  source: object,
  key: PropertyKey,
  key2?: PropertyKey
): void;

/**
 * Applies decorators to a class, method, accessor, or property.
 * @param decorators - Array of decorator functions
 * @param target - The target class or prototype
 * @param key - The property key (for member decorators)
 * @param descriptor - The property descriptor (for member decorators)
 * @returns The final property descriptor or decorated value
 */
export function __decorate(
  decorators: readonly ClassDecorator[],
  target: Function
): Function;
export function __decorate(
  decorators: readonly (PropertyDecorator | MethodDecorator)[],
  target: object,
  key: PropertyKey,
  descriptor?: PropertyDescriptor | null
): PropertyDescriptor | undefined;

/**
 * Re-exports all properties from a module except 'default'.
 * @param source - The source module to export from
 * @param target - The target module object
 */
export function __exportStar(source: object, target: object): void;

/**
 * Sets up prototype chain for class inheritance.
 * @param derived - The derived (child) class constructor
 * @param base - The base (parent) class constructor
 * @throws TypeError if base is not a constructor or null
 */
export function __extends(
  derived: Function,
  base: Function | null
): void;

/**
 * Creates a generator state machine for generator functions.
 * @param thisArg - The `this` context for the generator
 * @param body - The generator body function
 * @returns An iterator with next, throw, and return methods
 */
export function __generator<T = unknown, TReturn = unknown, TNext = unknown>(
  thisArg: unknown,
  body: (state: {
    label: number;
    sent(): unknown;
    trys: unknown[];
    ops: unknown[];
  }) => IteratorResult<T, TReturn>
): Generator<T, TReturn, TNext>;

/**
 * Returns the module object with a default export property.
 * @param module - The module object to process
 * @returns The module object or an object with a default property
 */
export function __importDefault<T>(module: T): T | { default: T };

/**
 * Creates a namespace object for star imports.
 * @param module - The module to import from
 * @returns A namespace object with all exported members
 */
export function __importStar<T>(module: T): T;

/**
 * Creates a template object for tagged template literals.
 * @param cooked - The array of cooked (processed) string values
 * @param raw - The array of raw string values
 * @returns The template object with a raw property
 */
export function __makeTemplateObject(
  cooked: readonly string[],
  raw: readonly string[]
): TemplateStringsArray;

/**
 * Emits type metadata for use with reflect-metadata.
 * @param metadataKey - The metadata key
 * @param metadataValue - The metadata value
 * @returns A decorator function
 */
export function __metadata(
  metadataKey: unknown,
  metadataValue: unknown
): (target: object, propertyKey: PropertyKey) => void;

/**
 * Creates a parameter decorator.
 * @param paramIndex - The index of the parameter
 * @param decorator - The decorator function to apply
 * @returns A decorator function
 */
export function __param(
  paramIndex: number,
  decorator: (target: object, propertyKey: PropertyKey, parameterIndex: number) => void
): (target: object, propertyKey: PropertyKey) => void;

/**
 * Reads values from an iterator into an array.
 * @param iterable - The iterable to read from
 * @param count - Optional maximum number of items to read
 * @returns An array of values from the iterator
 */
export function __read<T>(
  iterable: Iterable<T>,
  count?: number
): T[];

/**
 * Extracts remaining properties from an object (for object rest destructuring).
 * @param source - The source object
 * @param excludedKeys - Array of keys to exclude
 * @returns A new object with the remaining properties
 */
export function __rest<T extends object, K extends (keyof T)[]>(
  source: T,
  excludedKeys: K
): Omit<T, K[number]>;

/**
 * Spreads multiple arrays or array-like objects into a single array.
 * @deprecated Use native spread syntax or __spreadArray instead
 * @param arrays - Arrays to spread
 * @returns A new array containing all elements
 */
export function __spread<T>(...arrays: (T[] | readonly T[])[]): T[];

/**
 * Concatenates arrays efficiently, optionally including iterator values.
 * @param to - The array to concatenate to
 * @param from - The array or iterable to concatenate from
 * @param pack - Whether to pack iterator values into an array
 * @returns The concatenated array
 */
export function __spreadArray<T, U>(
  to: T[],
  from: U[] | Iterable<U>,
  pack?: boolean
): (T | U)[];

/**
 * Spreads multiple arrays or array-like objects into a single array.
 * @deprecated Use native spread syntax or __spreadArray instead
 * @param arrays - Arrays to spread
 * @returns A new array containing all elements
 */
export function __spreadArrays<T>(...arrays: (T[] | readonly T[])[]): T[];

/**
 * Creates an iterator from an iterable object.
 * @param iterable - The iterable object
 * @returns An iterator
 * @throws TypeError if the object is not iterable
 */
export function __values<T>(iterable: Iterable<T>): Iterator<T>;