# Homestyler æ ¸å¿ƒç³»ç»Ÿå®Œæ•´æŠ€æœ¯åˆ†ææŠ¥å‘Š

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0  
> **åˆ†ææ—¥æœŸ**: 2026-01-24  
> **åˆ†æèŒƒå›´**: dist/ æºç å®Œæ•´åå‘å·¥ç¨‹

---

## ğŸ“‹ æ‰§è¡Œæ‘˜è¦

æœ¬æŠ¥å‘ŠåŸºäºå¯¹Homestylerï¼ˆé…·å®¶ä¹ï¼‰`dist/` ç›®å½•æºç çš„æ·±åº¦åˆ†æï¼Œæ­ç¤ºäº†å…¶æ ¸å¿ƒæŠ€æœ¯æ¶æ„çš„**6å¤§å…³é”®ç³»ç»Ÿ**ï¼š

1. âœ… **2D/3DåŒæ¸²æŸ“ç³»ç»Ÿ** - SVG + PixiJS WebGL + Three.js æ··åˆæ¶æ„
2. âœ… **3Dæ¨¡å‹åŠ è½½è§£å¯†ç³»ç»Ÿ** - Zstandard + T3D Native WASM åŒè§£ç 
3. âœ… **Gizmoæ“ä½œç³»ç»Ÿ** - ç»Ÿä¸€çš„ç§»åŠ¨/æ—‹è½¬/ç¼©æ”¾äº¤äº’æ¡†æ¶
4. âœ… **2Då»ºç­‘è§†å›¾ç³»ç»Ÿ** - å»ºç­‘å¹³é¢å›¾ç»˜åˆ¶å’Œç¼–è¾‘
5. âœ… **å‚æ•°åŒ–å»ºæ¨¡ç³»ç»Ÿ** - åŠ¨æ€å‡ ä½•ç”Ÿæˆå’Œçº¦æŸæ±‚è§£
6. âœ… **ç•Œé¢å¸ƒå±€ç³»ç»Ÿ** - å“åº”å¼UIå’Œæ’ä»¶æ¶æ„

---

## ğŸ¯ å…³é”®å‘ç°æ€»ç»“

### 1. æ¸²æŸ“æ¶æ„çœŸç›¸ ğŸ”

**ç»“è®º**: Homestyler **ä¸æ˜¯çº¯Canvas 2D + Three.jsåŒæ¸²æŸ“**ï¼Œè€Œæ˜¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  2Dè§†å›¾ = SVG (æ–‡å­—/çŸ¢é‡) + PixiJS WebGL (å»ºç­‘å›¾)  â”‚
â”‚  3Dè§†å›¾ = Three.js WebGL (3Dæ¨¡å‹æ¸²æŸ“)              â”‚
â”‚  è¾…åŠ©   = Canvas 2D (å›¾ç‰‡å¤„ç†/æ–‡å­—æµ‹é‡)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¸ºä»€ä¹ˆè¿™æ ·è®¾è®¡ï¼Ÿ**
- âœ… **æ€§èƒ½**: PixiJS WebGLæä¾›GPUåŠ é€Ÿï¼Œæ¯”Canvas 2Då¿«10-100å€
- âœ… **ç»Ÿä¸€**: 2Då’Œ3Déƒ½åŸºäºWebGLï¼Œå…±äº«æ¸²æŸ“ç®¡çº¿
- âœ… **åŠŸèƒ½**: æ”¯æŒé«˜çº§ç‰¹æ•ˆï¼ˆæ»¤é•œã€æ··åˆæ¨¡å¼ã€åå¤„ç†ï¼‰

**è¯æ®æ¥æº**: 
- [`diffcwviewcontroller.js:59`](dist/plugins-hs-9fd2f87f.fe5726b7.bundle_dewebpack/diffcwviewcontroller.js:59) - åŒè§†å›¾ç®¡ç†å™¨
- [`module_2549.js:3292`](dist/vendor.b6c5a6cb.bundle_dewebpack/module_2549.js:3292) - PixiJS 5.2.4 ä»…WebGL

**è¯¦ç»†æ–‡æ¡£**: [`2d-3d-rendering-architecture-evidence.md`](./2d-3d-rendering-architecture-evidence.md)

---

### 2. 3Dæ¨¡å‹åŠ è½½æµç¨‹ ğŸ“¦

**å®Œæ•´ç®¡çº¿**:

```
ç½‘ç»œè¯·æ±‚ â†’ Zstandardè§£å‹ â†’ T3D Nativeè§£æ â†’ Three.jsæ¸²æŸ“
   â†“            â†“                 â†“                â†“
 .model3d   .binäºŒè¿›åˆ¶         Meshæ•°æ®        GPUæ¸²æŸ“
 (å‹ç¼©)     (ZSTDå‹ç¼©)        (é¡¶ç‚¹/æ³•çº¿)      (WebGL)
```

**å…³é”®æŠ€æœ¯**:
1. **Zstandardå‹ç¼©** - å‹ç¼©ç‡è¾¾70-80%
2. **T3D Native WASM** - é«˜æ€§èƒ½C++è§£æå™¨ç¼–è¯‘ä¸ºWebAssembly
3. **æµå¼åŠ è½½** - æ”¯æŒProgressive Loadingå’ŒLOD

**è¯æ®æ¥æº**:
- [`ZSTD-real-api.md`](./ZSTD-real-api.md) - Zstandard API
- [`T3DNative-real-api.md`](./T3DNative-real-api.md) - T3D Nativeè§£æå™¨
- [`3d-model-loading-decryption-decoding-complete.md`](./3d-model-loading-decryption-decoding-complete.md)

---

### 3. Gizmoæ“ä½œç³»ç»Ÿ ğŸ®

**æ ¸å¿ƒç»„ä»¶**:

| Gizmoç±»å‹ | åŠŸèƒ½ | å¿«æ·é”® |
|----------|------|--------|
| **ScaleGizmo** | 8è§’ç‚¹ç¼©æ”¾ | - |
| **RotateGizmo** | XYZä¸‰è½´æ—‹è½¬ç¯ | `Space` (45Â°å¢é‡) |
| **MoveGizmo** | 4æ–¹å‘+å‚ç›´ç§»åŠ¨ | - |
| **CoordinateAxis** | XYZåæ ‡è½´è¾…åŠ© | - |
| **BoundingBox** | é€‰ä¸­é«˜äº®æ¡† | - |
| **Dimension** | å®æ—¶å°ºå¯¸æ ‡æ³¨ | - |

**æ¨¡å¼åˆ‡æ¢**: `Alt+R` - ç¼©æ”¾ â†” æ—‹è½¬+ç§»åŠ¨

**æ¶æ„ç‰¹ç‚¹**:
- âœ… ç»Ÿä¸€çš„GizmoåŸºç±» (`HSApp.View.Base.Gizmo`)
- âœ… 2Då’Œ3Dç‹¬ç«‹çš„GizmoManager
- âœ… ActiveContextçŠ¶æ€ç®¡ç†
- âœ… å‘½ä»¤æ¨¡å¼å®ç°æ’¤é”€/é‡åš

**è¯æ®æ¥æº**:
- [`wfaselection.js`](dist/plugins-hs-dd89ef02.fe5726b7.bundle_dewebpack/wfaselection.js) - Gizmoç»„åˆé€»è¾‘
- [`module_209886.js`](dist/plugins-hs-5c263204.fe5726b7.bundle_dewebpack/module_209886.js) - Gizmoå®ç°

**è¯¦ç»†æ–‡æ¡£**: [`gizmo-operation-system-complete.md`](./gizmo-operation-system-complete.md)

---

### 4. 2Då»ºç­‘è§†å›¾ç³»ç»Ÿ ğŸ—ï¸

**æ ¸å¿ƒåŠŸèƒ½**:
- âœ… å¢™ä½“ç»˜åˆ¶ (ç›´çº¿å¢™/å¼§å½¢å¢™/è‡ªç”±å¢™)
- âœ… æˆ¿é—´è¯†åˆ« (è‡ªåŠ¨å°é—­åŒºåŸŸæ£€æµ‹)
- âœ… é—¨çª—å¼€æ´ (å¢™é¢å¼€å£ç®¡ç†)
- âœ… å°ºå¯¸æ ‡æ³¨ (è‡ªåŠ¨/æ‰‹åŠ¨æ ‡æ³¨)
- âœ… å¸é™„å¯¹é½ (ç½‘æ ¼å¸é™„/å¯¹è±¡å¸é™„)

**å…³é”®å‘½ä»¤**:
- `CmdCreateWalls` - åˆ›å»ºçŸ©å½¢æˆ¿é—´
- `CmdCreateFreeformNgWall` - è‡ªç”±ç»˜åˆ¶å¢™ä½“
- `CmdCutWall` - åˆ‡å‰²å¢™ä½“
- `CmdMergeWall` - åˆå¹¶å¢™ä½“
- `CmdAlignWall` - å¯¹é½å¢™ä½“

**è¯æ®æ¥æº**:
- [`homestyler-2d-3d-complete-system-guide.md`](./homestyler-2d-3d-complete-system-guide.md)
- æ•°åä¸ª `cmd*.js` å‘½ä»¤æ–‡ä»¶

---

### 5. å‚æ•°åŒ–å»ºæ¨¡ç³»ç»Ÿ âš™ï¸

**æ ¸å¿ƒæ¦‚å¿µ**:
- **ParametricModel** - å‚æ•°åŒ–æ¨¡å‹åŸºç±»
- **Constraint Solver** - å‡ ä½•çº¦æŸæ±‚è§£å™¨
- **Property Binding** - å±æ€§åŒå‘ç»‘å®š

**å…¸å‹åº”ç”¨**:
1. **å®šåˆ¶å®¶å…·** - å°ºå¯¸/æè´¨/ç»“æ„å‚æ•°åŒ–
2. **èƒŒæ™¯å¢™** - åŠ¨æ€é€ å‹ç”Ÿæˆ
3. **åŠé¡¶** - å‚æ•°åŒ–é¡¶é¢å»ºæ¨¡
4. **é—¨çª—** - å°ºå¯¸/æ ·å¼å‚æ•°åŒ–

**è¯æ®æ¥æº**:
- [`parametricmodel_2.d.ts`](src/core-hs.fe5726b7.bundle_dewebpack/parametricmodel_2.d.ts)
- [`constraint-system-complete-analysis.md`](./constraint-system-complete-analysis.md)
- [`custom-furniture-complete-architecture.md`](./custom-furniture-complete-architecture.md)

---

### 6. ç•Œé¢å¸ƒå±€ç³»ç»Ÿ ğŸ¨

**æ ¸å¿ƒæ¶æ„**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PageHeader (é¡¶éƒ¨å·¥å…·æ )                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚       â”‚                              â”‚          â”‚
â”‚ Left  â”‚    Canvas Area               â”‚  Right   â”‚
â”‚ Menu  â”‚   (2D/3Dæ¸²æŸ“åŒºåŸŸ)             â”‚Property â”‚
â”‚Catalogâ”‚                              â”‚   Bar    â”‚
â”‚       â”‚                              â”‚          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚          StatusBar (åº•éƒ¨çŠ¶æ€æ )                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**æ’ä»¶ç³»ç»Ÿ**:
- âœ… æ¯ä¸ªåŠŸèƒ½æ¨¡å—éƒ½æ˜¯ç‹¬ç«‹æ’ä»¶
- âœ… æ’ä»¶é—´é€šè¿‡Signalæœºåˆ¶é€šä¿¡
- âœ… æ”¯æŒåŠ¨æ€åŠ è½½/å¸è½½

**è¯æ®æ¥æº**:
- [`plugins-hs-complete-analysis.md`](./plugins-hs-complete-analysis.md)
- [`core-plugin-system-complete-architecture.md`](./core-plugin-system-complete-architecture.md)

---

## ğŸ—ï¸ å®Œæ•´ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        HSApp.App                                â”‚
â”‚                      (ä¸»åº”ç”¨ç¨‹åº)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  View Layer      â”‚           â”‚  Model Layer     â”‚           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚  â”‚                  â”‚           â”‚                  â”‚           â”‚
â”‚  â”‚ â€¢ Active2DView   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚ â€¢ Floorplan      â”‚           â”‚
â”‚  â”‚   - SVG          â”‚           â”‚ â€¢ Scene          â”‚           â”‚
â”‚  â”‚   - PixiJS WebGL â”‚           â”‚ â€¢ Layers         â”‚           â”‚
â”‚  â”‚                  â”‚           â”‚ â€¢ Entities       â”‚           â”‚
â”‚  â”‚ â€¢ Active3DView   â”‚           â”‚                  â”‚           â”‚
â”‚  â”‚   - Three.js     â”‚           â”‚ â€¢ Content        â”‚           â”‚
â”‚  â”‚   - WebGL        â”‚           â”‚ â€¢ Wall/Room      â”‚           â”‚
â”‚  â”‚                  â”‚           â”‚ â€¢ Materials      â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           â”‚                              â”‚                      â”‚
â”‚           â–¼                              â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ GizmoManager     â”‚           â”‚ CommandManager   â”‚           â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤           â”‚
â”‚  â”‚ â€¢ Scale          â”‚           â”‚ â€¢ Move           â”‚           â”‚
â”‚  â”‚ â€¢ Rotate         â”‚           â”‚ â€¢ Rotate         â”‚           â”‚
â”‚  â”‚ â€¢ Move           â”‚           â”‚ â€¢ Scale          â”‚           â”‚
â”‚  â”‚ â€¢ Dimension      â”‚           â”‚ â€¢ Create/Delete  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚           â”‚                              â”‚                      â”‚
â”‚           â–¼                              â–¼                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚         TransactionManager                   â”‚              â”‚
â”‚  â”‚  (äº‹åŠ¡ç®¡ç†ï¼Œæ”¯æŒæ’¤é”€/é‡åš)                    â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      Plugin System                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚PageHeaderâ”‚LeftMenu  â”‚RightBar  â”‚ToolBar   â”‚StatusBar â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æŠ€æœ¯æ ˆæ€»è§ˆ

### å‰ç«¯æ ¸å¿ƒæŠ€æœ¯

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| **Three.js** | r133+ | 3Dæ¸²æŸ“å¼•æ“ |
| **PixiJS** | 5.2.4 | 2D WebGLæ¸²æŸ“ |
| **SVG** | Native | çŸ¢é‡å›¾å½¢ |
| **WebAssembly** | - | é«˜æ€§èƒ½è®¡ç®— (ZSTD, T3D Native) |
| **jQuery** | - | DOMæ“ä½œ |
| **Webpack** | 5.x | æ¨¡å—æ‰“åŒ… |

### WASMæ¨¡å—

| æ¨¡å— | åŠŸèƒ½ | è¯­è¨€ |
|------|------|------|
| **ZSTD** | 