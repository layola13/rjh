/**
 * Calculates the next string position after a character at the given index.
 * 
 * @param str - The input string to process
 * @param position - The current position in the string
 * @param useCharLength - If true, advances by the full character length (handles multi-byte characters); if false, advances by 1
 * @returns The next position in the string after the character at the current position
 * 
 * @example
 *